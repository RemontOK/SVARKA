<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SVARKA - АльфаСмарт</title>
    <script>
      // GitHub Pages SPA redirect для прямых переходов и перезагрузки
      (function() {
        const path = window.location.pathname;
        const repoPath = '/SVARKA';
        const search = window.location.search;
        const hash = window.location.hash;
        
        // Проверяем, не является ли это запросом к статическому файлу
        const isStaticFile = /\.(js|css|png|jpg|jpeg|gif|svg|ico|woff|woff2|ttf|eot|json|map)$/i.test(path);
        
        if (!isStaticFile) {
          let targetPath = '';
          
          // Если путь начинается с /SVARKA
          if (path.startsWith(repoPath)) {
            // Если это /SVARKA или /SVARKA/, перенаправляем на index.html
            if (path === repoPath || path === repoPath + '/') {
              targetPath = repoPath + '/index.html';
            } else {
              // Сохраняем путь маршрута в hash для React Router
              // Убираем repoPath из пути, оставляя только маршрут
              const routePath = path.substring(repoPath.length);
              // Убеждаемся, что путь начинается с /
              const cleanRoutePath = routePath.startsWith('/') ? routePath : '/' + routePath;
              targetPath = repoPath + '/index.html#' + cleanRoutePath;
            }
          } else if (path === '/' || path === '') {
            // Если на корне, перенаправляем на /SVARKA/
            targetPath = repoPath + '/';
          } else {
            // Иначе добавляем /SVARKA к пути
            targetPath = repoPath + path;
          }
          
          // Перенаправляем с сохранением query параметров
          if (targetPath) {
            window.location.replace(targetPath + search);
          }
        }
      })();
    </script>
  </head>
  <body>
    <div id="root">
      <div style="display: flex; align-items: center; justify-content: center; height: 100vh; font-family: system-ui; color: #fff; background: #0a0a0f;">
        <p>Загрузка...</p>
      </div>
    </div>
  </body>
</html>

